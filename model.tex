\section{Модель и формальная постановка задачи}

\subsection{Определения}

В данном разделе приводятся определения, используемые в дальнейшем в 
формальной постановке задачи и описании решения.

Термины, допускающие использование особенностей конкретного типа каналов связи, 
сформулируем для типа канала MIL STD-1553B. Формулировка соответствующих 
определений и 
свойств для сообщений каналов других типов является перспективой развития 
данной работы.

\textbf{Обмен} - объект $E = (h_E, p_E, t^s_E, l_E)$, являющийся моделью для 
завершённого атомарного обмена данными между абонентами канала MIL STD-1553B. 
Понятие обмена соответствует термину \textit{сообщение} ГОСТ Р 52070-2003 
[\ref{gost_r_52070-2003}]. Здесь
\begin{itemize}
 \item $h_E$ - \textbf{заголовок обмена} - набор сервисных данных об обмене. 
 Заголовок обмена содержит формат сообщения, адреса и подадреса абонентов 
(получателя и отправителя) и размер полезной нагрузки. В терминах ГОСТ Р 
52070-2003 заголовок обмена определяется командным словом (КС) (или командными 
словами для некоторых форматов [\ref{gost_r_52070-2003}]);
 \item $p_E$ - \textbf{полезная нагрузка обмена} - последовательность слов 
данных (СД) сообщения;
 \item $t^s_E$ - время, прошедшее с момента начала регистрации трассы до 
момента получения первого бита сообщения (\textit{время начала обмена});
 \item $l_E$ - время, прошеднее с момента получения первого бита сообщения до 
момента получения последнего бита сообщения (\textit{длительность обмена}).
\end{itemize}

\textbf{Тип обмена} - множество обменов $M_h = \{E | h_E = h\}$ с 
одинаковым заголовком $h$. Будем говорить, что обмен $E$ является обменом типа 
$M_h$, если $E \in M_h$.

\textbf{Параметр} - объект $S = (h, b^{start}_S, sz_S, sc_S)$, где

\begin{itemize}
 \item $h$ - заголовок обмена. Будем считать, что $h$ содержит размер полезной 
нагрузки $size(h)$;
 \item $b^{start}_S$ - номер первого бита в полезной нагрузке обмена из 
$\bar{E}_h$, содержащего значение параметра;
 \item $sz_S$ - длина битового поля параметра;
 \item $sc_S$ - цена младшего бита битового поля параметра.
\end{itemize}

При этом выполняется условие $b^{start}_S; 0 < b^{start}_S + sz_S < size(h)$.

\textbf{Значение параметра} - функция $value(S, E)$, где $h_S = h_E$, 
определяющая значение параметра $S$ в обмене $E$: $value(S, E) = bits(p_E, 
b^{start}_S, sz_S) * sc_S$ ($bits(b, s, l)$ - функция, выделяющая 
подпоследовательность из $l$ бит в $b$, начиная с бита $s$).

\textbf{Трасса обменов} - последовательность обменов $T = \{E_1, ..., E_N\}$, 
где выполняется свойство $t^s_{i+1} \geq t^s_{i} + l_{i}, i = 
\overline{1,(N-1)}$ - обмены последовательны во времени и не накладываются друг 
на друга.


\textbf{Описание ограничения} - неформальное (текстовое) описание ограничения 
$\bar{R}$, накладываемое на параметр/параметры или тип обмена/типы обменов.

\textbf{Описание протокола} - $P = (M, S, \bar{R}_M, \bar{R}_S)$, где:
 \begin{itemize}
  \item $M = \{M_1, ..., M_n\}$ - множество типов обменов в протоколе;
  \item $S = \{S_1, ..., S_m\}$ - множество параметров, описанных в протоколе;
  \item $\bar{R}_M: M_i \rightarrow \bar{R}_{M_i}^{j}, i = \overline{1,n}, j = 
\overline{1,p_i}$ - описания ограничений для каждого типа
обмена (возможно, пустые);
  \item $\bar{R}_S: S_k \rightarrow \bar{R}_{S_k}^{l}, k = \overline{1,m}, l = 
\overline{1, 
q_k}$ - описания ограничений для каждого параметра (возможно, пустые).
\end{itemize}

\textbf{Ограничение} - функция $R: T \rightarrow \{0, 1\}$, отображающая 
множество трасс обменов на булево множество. Функция $R$ соответствует описанию 
ограничения $\bar{R}$ и равна 1, если для трассы $T$ данное ограничение 
выполнено. (Будем считать, что задача определения соответствия трассы 
ограничению алгоритмически разрешима).
 
 
\subsection{Формальная постановка задачи}

\textit{Исходные данные}: 

\begin{itemize}
 \item зарегистрированная трасса обменов на канале MIL STD-1553B $T = \{E_1, 
..., E_N\}$;
 \item описание протокола $P = (M, S, \bar{R}_M, \bar{R}_S)$.
\end{itemize}

\textit{Требуется}: 

\begin{itemize}
 \item предложить способ формального описания ограничений:
 \begin{itemize}
  \item ограничить множество допустимых описаний ограничений для обменов и 
параметров (определить классы ограничений);
  \item предложить способ построения наборов функций проверки ограничений 
$R_M$ и $R_S$ из описаний ограничений $\bar{R}_M$ и $\bar{R}_S$;
 \end{itemize}
 \item разработать алгоритмы и реализовать программное средство - 
\textbf{анализатор ограничений}, обеспечивающий решение задачи проверки 
соответствия трассы $T$ ограничениям, накладываемым описанием протокола $P$, то 
есть проверки условия

$$\bigwedge\limits_{M_i \in M} \bigwedge\limits_{R_{M_i}^j \in R_{M_i}} 
R_{M_i}^j(T) \wedge \bigwedge\limits_{S_i \in S} \bigwedge\limits_{R_{S_i}^j 
\in R_{S_i}} R_{S_i}^j(T) = 1$$

При невыполнении условия анализатор должен передать пользователю сообщения об 
ошибках, соответствующие всем несоблюдённым ограничениям (возможно, несколько 
сообщений для одного описания ограничения).
\end{itemize}